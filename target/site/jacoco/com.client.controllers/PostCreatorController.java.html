<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PostCreatorController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Starter OOPProject-Template</a> &gt; <a href="index.source.html" class="el_package">com.client.controllers</a> &gt; <span class="el_source">PostCreatorController.java</span></div><h1>PostCreatorController.java</h1><pre class="source lang-java linenums">package com.client.controllers;

import com.client.ServerCommunication;
import com.client.logic.ConsumptionPost;
import com.client.logic.FoodPost;
import com.client.logic.TransportationPost;
import com.jfoenix.controls.JFXButton;
import com.jfoenix.controls.JFXTextField;
import com.jfoenix.controls.JFXToggleButton;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.scene.control.Toggle;
import javafx.scene.control.ToggleGroup;
import javafx.scene.input.KeyEvent;
import javafx.scene.layout.AnchorPane;
import javafx.scene.paint.Color;

public class PostCreatorController {

    private JFXButton selectedNav;
    private JFXButton selectedTab;
    private AnchorPane selectedCategory;
    private AnchorPane selectedPane;
    private AnchorPane parent;
    @FXML
    private AnchorPane newPostDialog;
    @FXML
    private JFXButton foodNav;
    @FXML
    private JFXButton tranportationNav;
    @FXML
    private JFXButton consumptionNav;
    @FXML
    private AnchorPane foodPane;
    @FXML
    private JFXButton breakfastTab;
    @FXML
    private JFXButton lunchTab;
    @FXML
    private JFXButton dinnerTab;
    @FXML
    private AnchorPane breakfastPane;
    @FXML
    private JFXToggleButton breakfastVegan;
    @FXML
    private ToggleGroup breakfastFood;
    @FXML
    private JFXToggleButton breakfastVegetarian;
    @FXML
    private JFXToggleButton breakfastMeat;
    @FXML
    private JFXButton breakfastPostBtn;
    @FXML
    private AnchorPane lunchPane;
    @FXML
    private JFXToggleButton lunchVegan;
    @FXML
    private ToggleGroup lunchFood;
    @FXML
    private JFXToggleButton lunchVegetarian;
    @FXML
    private JFXToggleButton lunchMeat;
    @FXML
    private JFXButton lunchPostBtn;
    @FXML
    private AnchorPane dinnerPane;
    @FXML
    private JFXToggleButton dinnerVegan;
    @FXML
    private ToggleGroup dinnerFood;
    @FXML
    private JFXToggleButton dinnerVegetarian;
    @FXML
    private JFXToggleButton dinnerMeat;
    @FXML
    private JFXButton dinnerPostBtn;
    @FXML
    private AnchorPane transportationPane;
    @FXML
    private JFXButton bikeTab;
    @FXML
    private JFXButton carTab;
    @FXML
    private JFXButton transportTab;
    @FXML
    private JFXButton planeTab;
    @FXML
    private AnchorPane bikePane;
    @FXML
    private JFXTextField bikeKm;
    @FXML
    private JFXButton bikePostBtn;
    @FXML
    private AnchorPane carPane;
    @FXML
    private JFXTextField carKm;
    @FXML
    private JFXButton carPostBtn;
    @FXML
    private AnchorPane transportPane;
    @FXML
    private JFXTextField publicTransportKm;
    @FXML
    private JFXButton publicTransportPostBtn;
    @FXML
    private AnchorPane planePane;
    @FXML
    private JFXTextField planeKm;
    @FXML
    private JFXButton planePostBtn;
    @FXML
    private AnchorPane consumptionPane;
    @FXML
    private JFXButton recycleTab;
    @FXML
    private JFXButton produceTab;
    @FXML
    private JFXButton usedTab;
    @FXML
    private AnchorPane recyclePane;
    @FXML
    private JFXToggleButton recycleBool;
    @FXML
    private JFXButton recyclePostBtn;
    @FXML
    private AnchorPane producePane;
    @FXML
    private JFXToggleButton localProduceBool;
    @FXML
    private JFXButton producePostBtn;
    @FXML
    private AnchorPane usedPane;
    @FXML
    private JFXToggleButton usedBool;
    @FXML
    private JFXButton usedPostBtn;
    @FXML
    private JFXButton cancelBtn;

<span class="nc" id="L140">    public PostCreatorController(AnchorPane parent) {</span>
<span class="nc" id="L141">        this.parent = parent;</span>
<span class="nc" id="L142">    }</span>

    @FXML
    void cancelPost(ActionEvent event) {
<span class="nc" id="L146">        parent.getChildren().clear();</span>
<span class="nc" id="L147">        parent.setVisible(false);</span>
<span class="nc" id="L148">    }</span>

    @FXML
    void categoryNavigation(ActionEvent event) {

<span class="nc" id="L153">        selectedTab.setTextFill(Color.rgb(255, 255, 255));</span>
<span class="nc" id="L154">        selectedCategory.setVisible(false);</span>
<span class="nc" id="L155">        selectedPane.setVisible(false);</span>
<span class="nc bnc" id="L156" title="All 2 branches missed.">        if (event.getSource() == foodNav) {</span>
<span class="nc bnc" id="L157" title="All 2 branches missed.">            if (selectedNav != foodNav) {</span>
<span class="nc" id="L158">                selectedNav = foodNav;</span>
<span class="nc" id="L159">                selectedCategory = foodPane;</span>
<span class="nc" id="L160">                selectedPane = breakfastPane;</span>
<span class="nc" id="L161">                selectedTab = breakfastTab;</span>
            }
        }
<span class="nc bnc" id="L164" title="All 2 branches missed.">        if (event.getSource() == tranportationNav) {</span>
<span class="nc bnc" id="L165" title="All 2 branches missed.">            if (selectedNav != tranportationNav) {</span>
<span class="nc" id="L166">                selectedNav = tranportationNav;</span>
<span class="nc" id="L167">                selectedCategory = transportationPane;</span>
<span class="nc" id="L168">                selectedPane = bikePane;</span>
<span class="nc" id="L169">                selectedTab = bikeTab;</span>
            }
        }
<span class="nc bnc" id="L172" title="All 2 branches missed.">        if (event.getSource() == consumptionNav) {</span>
<span class="nc bnc" id="L173" title="All 2 branches missed.">            if (selectedNav != consumptionNav) {</span>
<span class="nc" id="L174">                selectedNav = consumptionNav;</span>
<span class="nc" id="L175">                selectedCategory = consumptionPane;</span>
<span class="nc" id="L176">                selectedPane = recyclePane;</span>
<span class="nc" id="L177">                selectedTab = recycleTab;</span>
            }
        }
<span class="nc" id="L180">        selectedPane.setVisible(true);</span>
<span class="nc" id="L181">        selectedCategory.setVisible(true);</span>
<span class="nc" id="L182">        selectedTab.setTextFill(Color.rgb(39, 174, 96));</span>

<span class="nc" id="L184">    }</span>

    @FXML
    void changeTab(ActionEvent event) {
<span class="nc" id="L188">        selectedTab.setTextFill(Color.rgb(255, 255, 255));</span>
<span class="nc" id="L189">        selectedPane.setVisible(false);</span>
<span class="nc" id="L190">        whichFoodPane(event);</span>
<span class="nc" id="L191">        whichTransportPane(event);</span>
<span class="nc" id="L192">        whichConsumePane(event);</span>
<span class="nc" id="L193">        selectedTab.setTextFill(Color.rgb(39, 174, 96));</span>
<span class="nc" id="L194">        selectedPane.setVisible(true);</span>

<span class="nc" id="L196">    }</span>

    private void whichConsumePane(ActionEvent event) {

<span class="nc bnc" id="L200" title="All 2 branches missed.">        if (event.getSource() == produceTab) {</span>
<span class="nc" id="L201">            selectedTabOptions(produceTab, producePane);</span>
        }

<span class="nc bnc" id="L204" title="All 2 branches missed.">        if (event.getSource() == usedTab) {</span>
<span class="nc" id="L205">            selectedTabOptions(usedTab, usedPane);</span>
        }

<span class="nc bnc" id="L208" title="All 2 branches missed.">        if (event.getSource() == recycleTab) {</span>
<span class="nc" id="L209">            selectedTabOptions(recycleTab, recyclePane);</span>
        }
<span class="nc" id="L211">    }</span>


    private void whichTransportPane(ActionEvent event) {
<span class="nc bnc" id="L215" title="All 2 branches missed.">        if (event.getSource() == carTab) {</span>
<span class="nc" id="L216">            selectedTabOptions(carTab, carPane);</span>
        }
<span class="nc bnc" id="L218" title="All 2 branches missed.">        if (event.getSource() == transportTab) {</span>
<span class="nc" id="L219">            selectedTabOptions(transportTab, transportPane);</span>
        }
<span class="nc bnc" id="L221" title="All 2 branches missed.">        if (event.getSource() == planeTab) {</span>
<span class="nc" id="L222">            selectedTabOptions(planeTab, planePane);</span>
        }
<span class="nc bnc" id="L224" title="All 2 branches missed.">        if (event.getSource() == bikeTab) {</span>
<span class="nc" id="L225">            selectedTabOptions(bikeTab, bikePane);</span>
        }
<span class="nc" id="L227">    }</span>

    private void whichFoodPane(ActionEvent event) {
<span class="nc bnc" id="L230" title="All 2 branches missed.">        if (event.getSource() == breakfastTab) {</span>
<span class="nc" id="L231">            selectedTabOptions(breakfastTab, breakfastPane);</span>
        }
<span class="nc bnc" id="L233" title="All 2 branches missed.">        if (event.getSource() == lunchTab) {</span>
<span class="nc" id="L234">            selectedTabOptions(lunchTab, lunchPane);</span>
        }
<span class="nc bnc" id="L236" title="All 2 branches missed.">        if (event.getSource() == dinnerTab) {</span>
<span class="nc" id="L237">            selectedTabOptions(dinnerTab, dinnerPane);</span>
        }
<span class="nc" id="L239">    }</span>

    private void selectedTabOptions(JFXButton breakfastTab, AnchorPane breakfastPane) {
<span class="nc bnc" id="L242" title="All 2 branches missed.">        if (selectedTab != breakfastTab) {</span>
<span class="nc" id="L243">            selectedTab = breakfastTab;</span>
<span class="nc" id="L244">            selectedPane = breakfastPane;</span>
        }
<span class="nc" id="L246">    }</span>

    @FXML
    void newConsumptionPost(ActionEvent event) {
<span class="nc bnc" id="L250" title="All 2 branches missed.">        if (event.getSource() == recyclePostBtn) {</span>
<span class="nc" id="L251">            ConsumptionPost consumptionPost = new ConsumptionPost();</span>
<span class="nc" id="L252">            consumptionPost.setConsume(&quot;Recycle&quot;);</span>
<span class="nc" id="L253">            consumptionPost.setState(recycleBool.isSelected());</span>
<span class="nc" id="L254">            consumptionPost.setUsername(LoginController.getusername());</span>
<span class="nc" id="L255">            ServerCommunication.uploadConsume(consumptionPost);</span>
<span class="nc" id="L256">            LoginController.userprofile.getAchievement().checkfiveDaysr();</span>
<span class="nc" id="L257">            RankingsController.scoreCalc();</span>
<span class="nc" id="L258">            LoginController.userprofile.getAchievement().checkfirstPost();</span>
            //clear input
<span class="nc" id="L260">            recycleBool.selectedProperty().setValue(false);</span>
<span class="nc bnc" id="L261" title="All 2 branches missed.">        } else if (event.getSource() == producePostBtn) {</span>
<span class="nc" id="L262">            ConsumptionPost consumptionPost = new ConsumptionPost();</span>
<span class="nc" id="L263">            consumptionPost.setConsume(&quot;Local Produce&quot;);</span>
<span class="nc" id="L264">            consumptionPost.setState(localProduceBool.isSelected());</span>
<span class="nc" id="L265">            consumptionPost.setUsername(LoginController.getusername());</span>
<span class="nc" id="L266">            ServerCommunication.uploadConsume(consumptionPost);</span>
<span class="nc" id="L267">            LoginController.userprofile.getAchievement().checkfirstPost();</span>
<span class="nc" id="L268">            RankingsController.scoreCalc();</span>
            //clear input
<span class="nc" id="L270">            localProduceBool.selectedProperty().setValue(false);</span>
<span class="nc bnc" id="L271" title="All 2 branches missed.">        } else if (event.getSource() == usedPostBtn) {</span>
<span class="nc" id="L272">            ConsumptionPost consumptionPost = new ConsumptionPost();</span>
<span class="nc" id="L273">            consumptionPost.setConsume(&quot;used&quot;);</span>
<span class="nc" id="L274">            consumptionPost.setState(usedBool.isSelected());</span>
<span class="nc" id="L275">            consumptionPost.setUsername(LoginController.getusername());</span>
<span class="nc" id="L276">            ServerCommunication.uploadConsume(consumptionPost);</span>
<span class="nc" id="L277">            LoginController.userprofile.getAchievement().checkLocal();</span>
<span class="nc" id="L278">            RankingsController.scoreCalc();</span>
<span class="nc" id="L279">            LoginController.userprofile.getAchievement().checkfirstPost();</span>
            //clear input
<span class="nc" id="L281">            usedBool.selectedProperty().setValue(false);</span>
        }
<span class="nc" id="L283">    }</span>

    @FXML
    void newFoodPost(ActionEvent event) {
<span class="nc bnc" id="L287" title="All 2 branches missed.">        if (event.getSource() == breakfastPostBtn) {</span>
<span class="nc" id="L288">            Toggle selection = breakfastFood.getSelectedToggle();</span>
<span class="nc" id="L289">            FoodPost foodpost = new FoodPost();</span>
<span class="nc" id="L290">            foodpost.setType((String) selection.getUserData());</span>
<span class="nc" id="L291">            foodpost.setMeal(&quot;breakfast&quot;);</span>
<span class="nc" id="L292">            foodpost.setUsername(LoginController.getusername());</span>
<span class="nc" id="L293">            ServerCommunication.uploadfood(foodpost);</span>
<span class="nc" id="L294">            LoginController.userprofile.getAchievement().checkfiveDaysv();</span>
<span class="nc" id="L295">            LoginController.userprofile.getAchievement().checkfirstPost();</span>
<span class="nc" id="L296">            RankingsController.scoreCalc();</span>
            //clear input
<span class="nc" id="L298">            selection.setSelected(false);</span>
<span class="nc bnc" id="L299" title="All 2 branches missed.">        } else if (event.getSource() == lunchPostBtn) {</span>
<span class="nc" id="L300">            Toggle selection = lunchFood.getSelectedToggle();</span>
<span class="nc" id="L301">            FoodPost foodpost = new FoodPost();</span>
<span class="nc" id="L302">            foodpost.setType((String) selection.getUserData());</span>
<span class="nc" id="L303">            foodpost.setMeal(&quot;lunch&quot;);</span>
<span class="nc" id="L304">            foodpost.setUsername(LoginController.getusername());</span>
<span class="nc" id="L305">            ServerCommunication.uploadfood(foodpost);</span>
<span class="nc" id="L306">            LoginController.userprofile.getAchievement().checkfiveDaysv();</span>
<span class="nc" id="L307">            LoginController.userprofile.getAchievement().checkfirstPost();</span>
<span class="nc" id="L308">            RankingsController.scoreCalc();</span>
            //clear input
<span class="nc" id="L310">            selection.setSelected(false);</span>
<span class="nc bnc" id="L311" title="All 2 branches missed.">        } else if (event.getSource() == dinnerPostBtn) {</span>
<span class="nc" id="L312">            Toggle selection = dinnerFood.getSelectedToggle();</span>
<span class="nc" id="L313">            FoodPost foodpost = new FoodPost();</span>
<span class="nc" id="L314">            foodpost.setType((String) selection.getUserData());</span>
<span class="nc" id="L315">            foodpost.setMeal(&quot;dinner&quot;);</span>
<span class="nc" id="L316">            foodpost.setUsername(LoginController.getusername());</span>
<span class="nc" id="L317">            ServerCommunication.uploadfood(foodpost);</span>
<span class="nc" id="L318">            LoginController.userprofile.getAchievement().checkfiveDaysv();</span>
<span class="nc" id="L319">            LoginController.userprofile.getAchievement().checkfirstPost();</span>
<span class="nc" id="L320">            RankingsController.scoreCalc();</span>
            //clear input
<span class="nc" id="L322">            selection.setSelected(false);</span>
        }
<span class="nc" id="L324">    }</span>

    @FXML
    void newTransportationPost(ActionEvent event) {
<span class="nc bnc" id="L328" title="All 2 branches missed.">        if (event.getSource() == bikePostBtn) {</span>
<span class="nc" id="L329">            TransportationPost transportationPost = new TransportationPost();</span>
<span class="nc" id="L330">            transportationPost.setType(&quot;bike&quot;);</span>
<span class="nc" id="L331">            transportationPost.setKilometer(Double.parseDouble(bikeKm.getText()));</span>
<span class="nc" id="L332">            transportationPost.setUsername(LoginController.getusername());</span>
<span class="nc" id="L333">            ServerCommunication.uploadTrans(transportationPost);</span>
<span class="nc" id="L334">            LoginController.userprofile.getAchievement().checkhundKm();</span>
<span class="nc" id="L335">            LoginController.userprofile.getAchievement().checkfirstPost();</span>
<span class="nc" id="L336">            RankingsController.scoreCalc();</span>

            //clear form
<span class="nc" id="L339">            bikeKm.setText(&quot;&quot;);</span>

<span class="nc bnc" id="L341" title="All 2 branches missed.">        } else if (event.getSource() == carPostBtn) {</span>
<span class="nc" id="L342">            TransportationPost transportationPost = new TransportationPost();</span>
<span class="nc" id="L343">            transportationPost.setType(&quot;car&quot;);</span>
<span class="nc" id="L344">            transportationPost.setKilometer(Double.parseDouble(carKm.getText()));</span>
<span class="nc" id="L345">            transportationPost.setUsername(LoginController.getusername());</span>
<span class="nc" id="L346">            ServerCommunication.uploadTrans(transportationPost);</span>
<span class="nc" id="L347">            LoginController.userprofile.getAchievement().checkfirstPost();</span>
<span class="nc" id="L348">            RankingsController.scoreCalc();</span>
            //clear form
<span class="nc" id="L350">            carKm.setText(&quot;&quot;);</span>

<span class="nc bnc" id="L352" title="All 2 branches missed.">        } else if (event.getSource() == publicTransportPostBtn) {</span>
<span class="nc" id="L353">            TransportationPost transportationPost = new TransportationPost();</span>
<span class="nc" id="L354">            transportationPost.setType(&quot;publictransportation&quot;);</span>
<span class="nc" id="L355">            transportationPost.setKilometer(Double.parseDouble(publicTransportKm.getText()));</span>
<span class="nc" id="L356">            transportationPost.setUsername(LoginController.getusername());</span>
<span class="nc" id="L357">            ServerCommunication.uploadTrans(transportationPost);</span>
<span class="nc" id="L358">            LoginController.userprofile.getAchievement().checkfirstPost();</span>
<span class="nc" id="L359">            RankingsController.scoreCalc();</span>
            //clear form
<span class="nc" id="L361">            publicTransportKm.setText(&quot;&quot;);</span>
<span class="nc bnc" id="L362" title="All 2 branches missed.">        } else if (event.getSource() == planePostBtn) {</span>
<span class="nc" id="L363">            TransportationPost transportationPost = new TransportationPost();</span>
<span class="nc" id="L364">            transportationPost.setType(&quot;plane&quot;);</span>
<span class="nc" id="L365">            transportationPost.setKilometer(Double.parseDouble(planeKm.getText()));</span>
<span class="nc" id="L366">            transportationPost.setUsername(LoginController.getusername());</span>
<span class="nc" id="L367">            ServerCommunication.uploadTrans(transportationPost);</span>
<span class="nc" id="L368">            LoginController.userprofile.getAchievement().checkfirstPost();</span>
<span class="nc" id="L369">            RankingsController.scoreCalc();</span>
        }
<span class="nc" id="L371">    }</span>

    @FXML
    void validate(KeyEvent event) {

<span class="nc" id="L376">    }</span>

    @FXML
    void initialize() {
<span class="nc" id="L380">        this.selectedNav = foodNav;</span>
<span class="nc" id="L381">        this.selectedTab = breakfastTab;</span>
<span class="nc" id="L382">        this.selectedCategory = foodPane;</span>
<span class="nc" id="L383">        this.selectedPane = breakfastPane;</span>
<span class="nc" id="L384">        selectedCategory.setVisible(true);</span>
<span class="nc" id="L385">        selectedPane.setVisible(true);</span>

<span class="nc" id="L387">        selectedTab.setTextFill(Color.rgb(39, 174, 96));</span>
<span class="nc" id="L388">        breakfastVegan.setUserData(&quot;Vegan&quot;);</span>
<span class="nc" id="L389">        breakfastVegetarian.setUserData(&quot;Vegetarian&quot;);</span>
<span class="nc" id="L390">        breakfastMeat.setUserData(&quot;Meat&quot;);</span>
<span class="nc" id="L391">        lunchVegan.setUserData(&quot;Vegan&quot;);</span>
<span class="nc" id="L392">        lunchVegetarian.setUserData(&quot;Vegetarian&quot;);</span>
<span class="nc" id="L393">        lunchMeat.setUserData(&quot;Meat&quot;);</span>
<span class="nc" id="L394">        dinnerVegan.setUserData(&quot;Vegan&quot;);</span>
<span class="nc" id="L395">        dinnerVegetarian.setUserData(&quot;Vegetarian&quot;);</span>
<span class="nc" id="L396">        dinnerMeat.setUserData(&quot;Meat&quot;);</span>
<span class="nc" id="L397">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>